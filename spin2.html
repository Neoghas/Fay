<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Faylotto Spin Bet Wheel</title>
<style>
  body {
    background: radial-gradient(circle, #111 0%, #000 100%);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    color: #fff;
    font-family: 'Poppins', sans-serif;
  }

  .wheel-container {
    position: relative;
    width: 400px;
    height: 400px;
  }

  .wheel {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 6px solid #fff;
    overflow: hidden;
    position: relative;
  }

  .segment {
    position: absolute;
    width: 50%;
    height: 50%;
    background: var(--color);
    transform-origin: 100% 100%;
    clip-path: polygon(0 0, 100% 0, 100% 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #111;
    font-size: 12px;
    font-weight: 600;
    text-align: center;
    padding: 5px;
  }

  .center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: gold;
    color: black;
    border-radius: 50%;
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 0 20px gold;
  }

  .arrow {
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
    width: 0; height: 0;
    border-left: 20px solid transparent;
    border-right: 20px solid transparent;
    border-bottom: 30px solid red;
  }

  .result {
    margin-top: 20px;
    font-size: 1.2em;
    font-weight: 600;
  }
</style>
</head>
<body>
  <div class="wheel-container">
    <div class="arrow"></div>
    <div class="wheel" id="wheel"></div>
    <div class="center" id="spinBtn">SPIN</div>
  </div>
  <div class="result" id="resultText">Press SPIN to play</div>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

  <script>
    const wheel = document.getElementById("wheel");
    const spinBtn = document.getElementById("spinBtn");
    const resultText = document.getElementById("resultText");

    const prizes = [
      "1 ETH Jackpot",
      "0.7 ETH Big Win",
      "MacBook",
      "iPhone or Worth ETH",
      "0.1 ETH Monthly Prize",
      "0.05 ETH Monthly Prize",
      "0.005 ETH Weekly",
      "0.0005 ETH Four-day Prize",
      "0.0001 ETH Daily Prize",
      "Won 2 LPoint",
      "Won 5 LPoint",
      "Won 7 LPoint"
    ];

    // Warna segmen
    const colors = [
      "#FFD700","#00BFFF","#FF4500","#ADFF2F","#DA70D6","#1E90FF",
      "#FF69B4","#20B2AA","#7FFF00","#FF8C00","#BA55D3","#FF6347"
    ];

    const segmentAngle = 360 / prizes.length;

    // Buat segmen
    prizes.forEach((prize, i) => {
      const seg = document.createElement("div");
      seg.className = "segment";
      seg.style.setProperty("--color", colors[i % colors.length]);
      seg.style.transform = `rotate(${i * segmentAngle}deg) skewY(-${90 - segmentAngle}deg)`;
      seg.innerHTML = `<div style="transform: skewY(${90 - segmentAngle}deg) rotate(${segmentAngle / 2}deg);">${prize}</div>`;
      wheel.appendChild(seg);
    });

    let isSpinning = false;

    spinBtn.addEventListener("click", () => {
      if (isSpinning) return;
      isSpinning = true;

      // Tentukan hasil acak
      const randomIndex = Math.floor(Math.random() * prizes.length);
      const spins = 6 + Math.random() * 2; // putaran penuh
      const rotation = 360 * spins - (randomIndex * segmentAngle) - (segmentAngle / 2);

      gsap.to(wheel, {
        rotation: rotation,
        duration: 5,
        ease: "power4.out",
        onComplete: () => {
          isSpinning = false;
          resultText.innerHTML = `ðŸŽ‰ You won: <span style="color:gold">${prizes[randomIndex]}</span>`;
        }
      });
    });
  </script>
</body>
</html>
